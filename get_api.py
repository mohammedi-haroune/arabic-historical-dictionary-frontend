import os
from kubernetes import client, config

configuration = client.Configuration()
configuration.api_key["authorization"] = 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJkZWZhdWx0Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6ImFwaS1zZXJ2aWNlLWFjY291bnQtdG9rZW4tc3dwOGQiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiYXBpLXNlcnZpY2UtYWNjb3VudCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6ImUyZjI4MTcwLWZiY2ItMTFlOC1hMGY3LTQyMDEwYTgwMDBiMCIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDpkZWZhdWx0OmFwaS1zZXJ2aWNlLWFjY291bnQifQ.NpQ-AXzU0LVNZ32SBg6UvZEN97mw6P2VHCxVoZdNx17ecWDAELh5BGn7Yj0I-5pwl39RQXbgRwR1E5vnCJ5eyUVYcR6JSYO8iCiQesVcw5xyxs0BA_SegShiW06-nBdCEJyx6KNDu5lX5SuEFy6FjmZdjQoMqsS800u3Pt7uzlVbPrYytS4Vj_8EM1YIb2dvPNgtKnHekmhaNVVIHYmV1sc0KgoEHuv_2wfX1SN-83H0Pe7w-j8FkMJ5pEQe7i_9vjOXGdjOr2YXW3JiB4giU3EoyjRwv5FgLS19cDDLdk2yxVDc84XlvLntlEdJkjp0tNpB8CbLnNQuZmSY-z4o3w'
configuration.api_key_prefix['authorization'] = 'Bearer'
configuration.host = 'https://35.188.205.77'
configuration.ssl_ca_cert = 'cert_file'

v1 = client.CoreV1Api(client.ApiClient(configuration))

service = v1.read_namespaced_service('tal-backend', 'default')
ip = service.status.load_balancer.ingress[0].ip
port = service.spec.ports[0].port
print('VUE_APP_API_URL=http://' + ip + ':' + str(port) + '/api/')
